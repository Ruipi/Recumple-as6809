ASxxxx Assembler V05.40  (Motorola 6809)                                Page 1
Hexadecimal [16-Bits]                                 Tue May 17 15:36:33 2022



                              1 	.module calculo
                              2 
                              3 	.globl acabar
                              4 	.globl mostrarMes
                              5 	.globl comprobar_bisiesto
                              6 	.globl sumar_anio
                              7 	.globl sumar_mes
                              8 	.globl comprobar_mes
                              9 	.globl comprobar_dia
                             10 	.globl suma_dia
                             11 	.globl sumar_iteracion
                             12 	.globl sacar_pila
                             13 	.globl poner_pila
                             14 	.globl daa
                             15 
                             16 	.globl Ncumples
                             17 	.globl aNo
                             18 	.globl dia
                             19 	.globl mes
                             20 
   0000 20 65 6E 65 72 6F    21 enero_str:      .asciz " enero "
        20 00
   0008 20 66 65 62 72 65    22 febrero_str:    .asciz " febrero "
        72 6F 20 00
   0012 20 6D 61 72 7A 6F    23 marzo_str:      .asciz " marzo "
        20 00
   001A 20 61 62 72 69 6C    24 abril_str:      .asciz " abril "
        20 00
   0022 20 6D 61 79 6F 20    25 mayo_str:       .asciz " mayo "
        00
   0029 20 6A 75 6E 69 6F    26 junio_str:      .asciz " junio "
        20 00
   0031 20 6A 75 6C 69 6F    27 julio_str:      .asciz " julio "
        20 00
   0039 20 61 67 6F 73 74    28 agosto_str:     .asciz " agosto "
        6F 20 00
   0042 20 73 65 70 74 69    29 septiembre_str: .asciz " septiembre "
        65 6D 62 72 65 20
        00
   004F 20 6F 63 74 75 62    30 octubre_str:    .asciz " octubre "
        72 65 20 00
   0059 20 6E 6F 76 69 65    31 noviembre_str:  .asciz " noviembre "
        6D 62 72 65 20 00
   0065 20 64 69 63 69 65    32 diciembre_str:  .asciz " diciembre "
        6D 62 72 65 20 00
                             33 
   0071                      34 poner_pila:
   0071 B6 00 00      [ 5]   35 	lda dia
   0074 36 02         [ 6]   36 	pshu a
   0076 B6 00 00      [ 5]   37 	lda mes
   0079 36 02         [ 6]   38 	pshu a
   007B FC 00 00      [ 6]   39 	ldd aNo
   007E 36 04         [ 6]   40 	pshu b
   0080 36 02         [ 6]   41 	pshu a
   0082 39            [ 5]   42 	rts 
ASxxxx Assembler V05.40  (Motorola 6809)                                Page 2
Hexadecimal [16-Bits]                                 Tue May 17 15:36:33 2022



                             43 
   0083                      44 sacar_pila:
   0083 37 02         [ 6]   45 	pulu a
   0085 37 04         [ 6]   46 	pulu b
   0087 FD 00 00      [ 6]   47 	std aNo
   008A 37 02         [ 6]   48 	pulu a
   008C B7 00 00      [ 5]   49 	sta mes
   008F 37 02         [ 6]   50 	pulu a
   0091 B7 00 00      [ 5]   51 	sta dia
   0094 39            [ 5]   52 	rts
                             53 
   0095                      54 enero:
   0095 8E 00 00      [ 3]   55 	ldx #enero_str
   0098 20 68         [ 3]   56 	bra imprimir
                             57 
   009A                      58 febrero:
   009A 8E 00 08      [ 3]   59 	ldx #febrero_str
   009D 20 63         [ 3]   60 	bra imprimir
                             61 
   009F                      62 marzo:
   009F 8E 00 12      [ 3]   63 	ldx #marzo_str
   00A2 20 5E         [ 3]   64 	bra imprimir
                             65 
   00A4                      66 abril:
   00A4 8E 00 1A      [ 3]   67 	ldx #abril_str
   00A7 20 59         [ 3]   68 	bra imprimir
                             69 
   00A9                      70 mayo:
   00A9 8E 00 22      [ 3]   71 	ldx #mayo_str
   00AC 20 54         [ 3]   72 	bra imprimir
                             73 
   00AE                      74 junio:
   00AE 8E 00 29      [ 3]   75 	ldx #junio_str
   00B1 20 4F         [ 3]   76 	bra imprimir
                             77 
   00B3                      78 julio:
   00B3 8E 00 31      [ 3]   79 	ldx #julio_str
   00B6 20 4A         [ 3]   80 	bra imprimir
                             81 
   00B8                      82 agosto:
   00B8 8E 00 39      [ 3]   83 	ldx #agosto_str
   00BB 20 45         [ 3]   84 	bra imprimir
                             85 
   00BD                      86 septiembre:
   00BD 8E 00 42      [ 3]   87 	ldx #septiembre_str
   00C0 20 40         [ 3]   88 	bra imprimir
                             89 
   00C2                      90 octubre:
   00C2 8E 00 4F      [ 3]   91 	ldx #octubre_str
   00C5 20 3B         [ 3]   92 	bra imprimir
                             93 
   00C7                      94 noviembre:
   00C7 8E 00 59      [ 3]   95 	ldx #noviembre_str
   00CA 20 36         [ 3]   96 	bra imprimir
                             97 
ASxxxx Assembler V05.40  (Motorola 6809)                                Page 3
Hexadecimal [16-Bits]                                 Tue May 17 15:36:33 2022



   00CC                      98 diciembre:
   00CC 8E 00 65      [ 3]   99 	ldx #diciembre_str
   00CF 20 31         [ 3]  100 	bra imprimir
                            101 
   00D1                     102 mostrarMes:
   00D1 F6 00 00      [ 5]  103 	ldb mes
   00D4 C1 01         [ 2]  104 	cmpb #0x1
   00D6 27 BD         [ 3]  105 	beq enero
   00D8 C1 02         [ 2]  106 	cmpb #0x2
   00DA 27 BE         [ 3]  107 	beq febrero
   00DC C1 03         [ 2]  108 	cmpb #0x3
   00DE 27 BF         [ 3]  109 	beq marzo
   00E0 C1 04         [ 2]  110 	cmpb #0x4
   00E2 27 C0         [ 3]  111 	beq abril
   00E4 C1 05         [ 2]  112 	cmpb #0x5
   00E6 27 C1         [ 3]  113 	beq mayo
   00E8 C1 06         [ 2]  114 	cmpb #0x6
   00EA 27 C2         [ 3]  115 	beq junio
   00EC C1 07         [ 2]  116 	cmpb #0x7
   00EE 27 C3         [ 3]  117 	beq julio
   00F0 C1 08         [ 2]  118 	cmpb #0x8
   00F2 27 C4         [ 3]  119 	beq agosto
   00F4 C1 09         [ 2]  120 	cmpb #0x9
   00F6 27 C5         [ 3]  121 	beq septiembre
   00F8 C1 0A         [ 2]  122 	cmpb #0xA
   00FA 27 C6         [ 3]  123 	beq octubre
   00FC C1 0B         [ 2]  124 	cmpb #0xB
   00FE 27 C7         [ 3]  125 	beq noviembre
   0100 20 CA         [ 3]  126 	bra diciembre
                            127 
   0102                     128 imprimir:
   0102 A6 80         [ 6]  129 	lda ,x+
   0104 10 27 00 D2   [ 6]  130 	lbeq regresar
   0108 B7 FF 00      [ 5]  131 	sta 0xFF00
   010B 20 F5         [ 3]  132 	bra imprimir
                            133 
   010D                     134 sumar_iteracion:
   010D 96 80         [ 4]  135 	lda 0x80
   010F 8B 01         [ 2]  136 	adda #0x01 
   0111 97 80         [ 4]  137 	sta 0x80
   0113 39            [ 5]  138 	rts
                            139 
   0114                     140 sumar_anio:
   0114 EC 8D 00 00   [10]  141 	ldd aNo,pcr
   0118 1E 89         [ 8]  142 	exg a,b
   011A 9B 80         [ 4]  143 	adda 0x80
   011C 17 00 00      [ 9]  144 	lbsr daa
   011F 1E 89         [ 8]  145 	exg a,b
   0121 89 00         [ 2]  146 	adca #0x0
   0123 FD 00 00      [ 6]  147 	std aNo
   0126 39            [ 5]  148 	rts
                            149 
   0127                     150 comprobar_bisiesto:
   0127 FC 00 00      [ 6]  151 	ldd aNo
   012A 1F 98         [ 6]  152 	tfr b,a
ASxxxx Assembler V05.40  (Motorola 6809)                                Page 4
Hexadecimal [16-Bits]                                 Tue May 17 15:36:33 2022



   012C 84 01         [ 2]  153 	anda #1
   012E 81 00         [ 2]  154 	cmpa #0x00
   0130 26 20         [ 3]  155 	bne no_bisiesto
   0132 1F 98         [ 6]  156 	tfr b,a
   0134 44            [ 2]  157 	lsra
   0135 84 01         [ 2]  158 	anda #1
   0137 81 00         [ 2]  159 	cmpa #0x00
   0139 26 17         [ 3]  160 	bne no_bisiesto
   013B B6 00 00      [ 5]  161 	lda dia
   013E F6 00 00      [ 5]  162 	ldb mes
   0141 81 1D         [ 2]  163 	cmpa #0x1D	 		;COMPARA DIA CON 29
   0143 10 23 00 93   [ 6]  164 	lbls regresar 
   0147 80 1D         [ 2]  165 	suba #0x1D
   0149 CB 01         [ 2]  166 	addb #0x01
   014B B7 00 00      [ 5]  167 	sta dia
   014E F7 00 00      [ 5]  168 	stb mes
   0151 39            [ 5]  169 	rts
                            170 	
   0152                     171 no_bisiesto:
   0152 B6 00 00      [ 5]  172 	lda dia
   0155 F6 00 00      [ 5]  173 	ldb mes
   0158 80 1C         [ 2]  174 	suba #0x1C
   015A CB 01         [ 2]  175 	addb #0x01
   015C B7 00 00      [ 5]  176 	sta dia
   015F F7 00 00      [ 5]  177 	stb mes
   0162 39            [ 5]  178 	rts
                            179 
   0163                     180 sumar_mes:
   0163 B6 00 00      [ 5]  181 	lda mes
   0166 9B 80         [ 4]  182 	adda 0x80
   0168 17 00 00      [ 9]  183 	lbsr daa
   016B B7 00 00      [ 5]  184 	sta mes
   016E 39            [ 5]  185 	rts
                            186 
   016F                     187 comprobar_mes:
   016F B6 00 00      [ 5]  188 	lda mes
   0172 80 12         [ 2]  189 	suba #0x12
   0174 23 64         [ 3]  190 	bls regresar 
   0176 F6 00 00      [ 5]  191 	ldb aNo
   0179 CB 01         [ 2]  192 	addb #0x1
   017B B7 00 00      [ 5]  193 	sta mes
   017E F7 00 00      [ 5]  194 	stb aNo
   0181 39            [ 5]  195 	rts
                            196 
   0182                     197 suma_dia:
   0182 B6 00 00      [ 5]  198 	lda dia
   0185 9B 80         [ 4]  199 	adda 0x80
   0187 17 00 00      [ 9]  200 	lbsr daa
   018A B7 00 00      [ 5]  201 	sta dia
   018D 39            [ 5]  202 	rts
                            203 
   018E                     204 comprobar_dia:
   018E B6 00 00      [ 5]  205 	lda dia
   0191 F6 00 00      [ 5]  206 	ldb mes
   0194 81 28         [ 2]  207 	cmpa #0x28		;COMPARA EL DIA CON 28
ASxxxx Assembler V05.40  (Motorola 6809)                                Page 5
Hexadecimal [16-Bits]                                 Tue May 17 15:36:33 2022



   0196 10 23 00 40   [ 6]  208 	lbls regresar 
   019A C1 02         [ 2]  209 	cmpb #0x02
   019C 10 27 FF 87   [ 6]  210 	lbeq comprobar_bisiesto
   01A0 81 30         [ 2]  211 	cmpa #0x30		;COMPARA EL DIA CON 30
   01A2 10 23 00 34   [ 6]  212 	lbls regresar 
   01A6 C1 04         [ 2]  213 	cmpb #0x04
   01A8 10 27 00 23   [ 6]  214 	lbeq rest_30_sum_mes
   01AC C1 06         [ 2]  215 	cmpb #0x06
   01AE 10 27 00 1D   [ 6]  216 	lbeq rest_30_sum_mes
   01B2 C1 09         [ 2]  217 	cmpb #0x09
   01B4 10 27 00 17   [ 6]  218 	lbeq rest_30_sum_mes
   01B8 C1 11         [ 2]  219 	cmpb #0x11
   01BA 10 27 00 11   [ 6]  220 	lbeq rest_30_sum_mes
   01BE 81 31         [ 2]  221 	cmpa #0x31		;COMPARA EL DIA COM 31
   01C0 10 23 00 16   [ 6]  222 	lbls regresar 
   01C4 80 31         [ 2]  223 	suba #0x31
   01C6 CB 01         [ 2]  224 	addb #0x01
   01C8 B7 00 00      [ 5]  225 	sta dia
   01CB F7 00 00      [ 5]  226 	stb mes
   01CE 39            [ 5]  227 	rts
                            228 
   01CF                     229 rest_30_sum_mes:
   01CF 80 30         [ 2]  230 	suba #0x30
   01D1 CB 01         [ 2]  231 	addb #0x01
   01D3 B7 00 00      [ 5]  232 	sta dia
   01D6 F7 00 00      [ 5]  233 	stb mes
   01D9 39            [ 5]  234 	rts
                            235 	
   01DA                     236 regresar:
   01DA 39            [ 5]  237   	rts
ASxxxx Assembler V05.40  (Motorola 6809)                                Page 6
Hexadecimal [16-Bits]                                 Tue May 17 15:36:33 2022

Symbol Table

    .__.$$$.       =   2710 L   |     .__.ABS.       =   0000 G
    .__.CPU.       =   0000 L   |     .__.H$L.       =   0001 L
    Ncumples           **** GX  |     aNo                **** GX
  0 abril              00A4 R   |   0 abril_str          001A R
    acabar             **** GX  |   0 agosto             00B8 R
  0 agosto_str         0039 R   |   0 comprobar_bisi     0127 GR
  0 comprobar_dia      018E GR  |   0 comprobar_mes      016F GR
    daa                **** GX  |     dia                **** GX
  0 diciembre          00CC R   |   0 diciembre_str      0065 R
  0 enero              0095 R   |   0 enero_str          0000 R
  0 febrero            009A R   |   0 febrero_str        0008 R
  0 imprimir           0102 R   |   0 julio              00B3 R
  0 julio_str          0031 R   |   0 junio              00AE R
  0 junio_str          0029 R   |   0 marzo              009F R
  0 marzo_str          0012 R   |   0 mayo               00A9 R
  0 mayo_str           0022 R   |     mes                **** GX
  0 mostrarMes         00D1 GR  |   0 no_bisiesto        0152 R
  0 noviembre          00C7 R   |   0 noviembre_str      0059 R
  0 octubre            00C2 R   |   0 octubre_str        004F R
  0 poner_pila         0071 GR  |   0 regresar           01DA R
  0 rest_30_sum_me     01CF R   |   0 sacar_pila         0083 GR
  0 septiembre         00BD R   |   0 septiembre_str     0042 R
  0 suma_dia           0182 GR  |   0 sumar_anio         0114 GR
  0 sumar_iteracio     010D GR  |   0 sumar_mes          0163 GR

ASxxxx Assembler V05.40  (Motorola 6809)                                Page 7
Hexadecimal [16-Bits]                                 Tue May 17 15:36:33 2022

Area Table

[_CSEG]
   0 _CODE            size  1DB   flags C180
[_DSEG]
   1 _DATA            size    0   flags C0C0

