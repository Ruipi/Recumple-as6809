ASxxxx Assembler V05.40  (Motorola 6809)                                Page 1
Hexadecimal [16-Bits]                                 Tue May 17 01:58:55 2022



                              1 
                              2     .module recumple
                              3 
                              4     .area PROG (ABS)
                              5 
   0250                       6     .org 0x250
                              7 	.globl imprime
                              8     .globl acabar
                              9     .globl mostrarMes
                             10     .globl comprobar_bisiesto
                             11 	.globl sumar_anio
                             12 	.globl sumar_mes
                             13 	.globl comprobar_mes
                             14 	.globl comprobar_dia
                             15 	.globl suma_dia
                             16 	.globl sumar_iteracion
                             17 	.globl sacar_pila
                             18 	.globl poner_pila
                             19     .globl daa
                             20     .globl aNo
                             21     .globl mes
                             22     .globl dia
                             23     .globl Ncumples
                             24 
   0250 19 76                25 aNo:            .word 0x1976 	; AÃ±o de nacimiento (BCD) 
   0252 00 07                26 mes:	    	.word 0x7		; Mes de nacimiento (BCD) 
   0254 00 27                27 dia:	        .word 0x27 	; Dia de nacimiento (BCD)
   0256 02                   28 Ncumples:     	.byte 2		; Numero de Recumples a calcular
                             29 
   0257                      30 programa:
   0257 86 27         [ 2]   31 	lda #0x27
   0259 B7 02 54      [ 5]   32 	sta dia
   025C 86 07         [ 2]   33 	lda #0x7
   025E B7 02 52      [ 5]   34 	sta mes
   0261 10 CE F0 00   [ 4]   35 	lds #0xF000
   0265 CE F1 00      [ 3]   36 	ldu #0xF100
   0268 86 00         [ 2]   37 	lda #0
   026A 97 80         [ 4]   38 	sta 0x80
   026C 17 00 00      [ 9]   39 	lbsr poner_pila
                             40 
   026F                      41 bucle_n_cumple:
   026F 17 00 00      [ 9]   42 	lbsr sacar_pila
   0272 17 00 00      [ 9]   43 	lbsr poner_pila
   0275 17 00 00      [ 9]   44 	lbsr sumar_anio
   0278 17 00 00      [ 9]   45 	lbsr sumar_mes
   027B 17 00 00      [ 9]   46 	lbsr comprobar_mes
   027E 17 00 00      [ 9]   47 	lbsr suma_dia
   0281 17 00 00      [ 9]   48 	lbsr comprobar_dia
                             49 	
   0284 17 00 43      [ 9]   50 	lbsr imprime_salto
   0287 B6 02 54      [ 5]   51 	lda dia
   028A 17 00 00      [ 9]   52 	lbsr imprime
   028D 17 00 3A      [ 9]   53 	lbsr imprime_salto
                             54 	
   0290 B6 02 52      [ 5]   55 	lda mes
ASxxxx Assembler V05.40  (Motorola 6809)                                Page 2
Hexadecimal [16-Bits]                                 Tue May 17 01:58:55 2022



   0293 17 00 00      [ 9]   56 	lbsr imprime
   0296 17 00 31      [ 9]   57 	lbsr imprime_salto
                             58 
                             59 	;0x19XX/20XX -> daa -> sta ultimo XX -> 1900/2000 -> cmp 0x2000 blo 19 -> 20
   0299 FC 02 50      [ 6]   60 	ldd aNo
   029C 81 20         [ 2]   61 	cmpa #0x20
   029E 25 1A         [ 3]   62 	blo imprime_19
   02A0 86 14         [ 2]   63 	lda #20
   02A2 17 00 00      [ 9]   64 	lbsr imprime
   02A5 B6 02 50      [ 5]   65 	lda aNo
   02A8 17 00 00      [ 9]   66 	lbsr imprime
   02AB 17 00 1C      [ 9]   67 	lbsr imprime_salto
                             68 
                             69 	;bsr presentar
   02AE                      70 sumar_iter:
   02AE 17 00 00      [ 9]   71 	lbsr sumar_iteracion
   02B1 96 80         [ 4]   72 	lda 0x80
   02B3 B1 02 56      [ 5]   73 	cmpa Ncumples
   02B6 23 B7         [ 3]   74 	bls bucle_n_cumple
   02B8 20 16         [ 3]   75 	bra acabar
                             76 
   02BA                      77 imprime_19:
   02BA 86 13         [ 2]   78 	lda #19
   02BC 17 00 00      [ 9]   79 	lbsr imprime
   02BF B6 02 50      [ 5]   80 	lda aNo
   02C2 17 00 00      [ 9]   81 	lbsr imprime
   02C5 17 00 02      [ 9]   82 	lbsr imprime_salto
   02C8 20 E4         [ 3]   83 	bra sumar_iter
                             84 	
   02CA                      85 imprime_salto:
   02CA 86 0A         [ 2]   86 	lda #'\n
   02CC B7 FF 00      [ 5]   87 	sta 0xFF00
   02CF 39            [ 5]   88 	rts
                             89 
   02D0                      90 acabar: 
   02D0 4F            [ 2]   91 	clra
   02D1 B7 FF 01      [ 5]   92 	sta 0xFF01
                             93 
   FFFE                      94 	.org 0xFFFE
   FFFE 02 57                95 	.word programa
                             96 
ASxxxx Assembler V05.40  (Motorola 6809)                                Page 3
Hexadecimal [16-Bits]                                 Tue May 17 01:58:55 2022

Symbol Table

    .__.$$$.       =   2710 L   |     .__.ABS.       =   0000 G
    .__.CPU.       =   0000 L   |     .__.H$L.       =   0001 L
  2 Ncumples           0256 GR  |   2 aNo                0250 GR
  2 acabar             02D0 GR  |   2 bucle_n_cumple     026F R
    comprobar_bisi     **** GX  |     comprobar_dia      **** GX
    comprobar_mes      **** GX  |     daa                **** GX
  2 dia                0254 GR  |     imprime            **** GX
  2 imprime_19         02BA R   |   2 imprime_salto      02CA R
  2 mes                0252 GR  |     mostrarMes         **** GX
    poner_pila         **** GX  |   2 programa           0257 R
    sacar_pila         **** GX  |     suma_dia           **** GX
    sumar_anio         **** GX  |   2 sumar_iter         02AE R
    sumar_iteracio     **** GX  |     sumar_mes          **** GX

ASxxxx Assembler V05.40  (Motorola 6809)                                Page 4
Hexadecimal [16-Bits]                                 Tue May 17 01:58:55 2022

Area Table

[_CSEG]
   0 _CODE            size    0   flags C080
   2 PROG             size    0   flags  908
[_DSEG]
   1 _DATA            size    0   flags C0C0

