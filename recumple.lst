ASxxxx Assembler V05.40  (Motorola 6809)                                Page 1
Hexadecimal [16-Bits]                                 Tue May 17 15:35:34 2022



                              1 
                              2     .module recumple
                              3 
                              4     .area PROG (ABS)
                              5 
   0250                       6     .org 0x250
                              7 	.globl imprime
                              8     .globl acabar
                              9     .globl mostrarMes
                             10     .globl comprobar_bisiesto
                             11 	.globl sumar_anio
                             12 	.globl sumar_mes
                             13 	.globl comprobar_mes
                             14 	.globl comprobar_dia
                             15 	.globl suma_dia
                             16 	.globl sumar_iteracion
                             17 	.globl sacar_pila
                             18 	.globl poner_pila
                             19     .globl daa
                             20     .globl aNo
                             21     .globl mes
                             22     .globl dia
                             23     .globl Ncumples
                             24 
   0250 19 76                25 aNo:            .word 0x1976 	; AÃ±o de nacimiento (BCD) 
   0252 00 07                26 mes:	    	.word 0x7		; Mes de nacimiento (BCD) 
   0254 00 27                27 dia:	        .word 0x27 	; Dia de nacimiento (BCD)
   0256 02                   28 Ncumples:     	.byte 2		; Numero de Recumples a calcular
                             29 
   0257                      30 programa:
   0257 86 27         [ 2]   31 	lda #0x27
   0259 B7 02 54      [ 5]   32 	sta dia
   025C 86 07         [ 2]   33 	lda #0x7
   025E B7 02 52      [ 5]   34 	sta mes
   0261 CC 19 76      [ 3]   35 	ldd #0x1976
   0264 FD 02 50      [ 6]   36 	std aNo
   0267 10 CE F0 00   [ 4]   37 	lds #0xF000
   026B CE F1 00      [ 3]   38 	ldu #0xF100
   026E 86 00         [ 2]   39 	lda #0x0
   0270 97 80         [ 4]   40 	sta 0x80
   0272 17 00 00      [ 9]   41 	lbsr poner_pila
                             42 
   0275                      43 bucle_n_cumple:
   0275 17 00 00      [ 9]   44 	lbsr sacar_pila
   0278 17 00 00      [ 9]   45 	lbsr poner_pila
   027B 17 00 00      [ 9]   46 	lbsr sumar_anio
   027E 17 00 00      [ 9]   47 	lbsr sumar_mes
   0281 17 00 00      [ 9]   48 	lbsr comprobar_mes
   0284 17 00 00      [ 9]   49 	lbsr suma_dia
   0287 17 00 00      [ 9]   50 	lbsr comprobar_dia
   028A 8D 49         [ 7]   51 	bsr presentar
                             52 
   028C                      53 sumar_iter:
   028C 17 00 00      [ 9]   54 	lbsr sumar_iteracion
   028F 96 80         [ 4]   55 	lda 0x80
ASxxxx Assembler V05.40  (Motorola 6809)                                Page 2
Hexadecimal [16-Bits]                                 Tue May 17 15:35:34 2022



   0291 B1 02 56      [ 5]   56 	cmpa Ncumples
   0294 23 DF         [ 3]   57 	bls bucle_n_cumple
   0296 20 6C         [ 3]   58 	bra acabar
                             59 
   0298                      60 imprime_iter:
   0298 96 80         [ 4]   61 	lda 0x80
   029A 17 00 00      [ 9]   62 	lbsr imprime	
   029D 39            [ 5]   63 	rts
                             64 
   029E                      65 imprime_dia:
   029E B6 02 54      [ 5]   66 	lda dia
   02A1 17 00 00      [ 9]   67 	lbsr imprime
   02A4 39            [ 5]   68 	rts 
                             69 
   02A5                      70 imprime_mes:
   02A5 B6 02 52      [ 5]   71 	lda mes
   02A8 17 00 00      [ 9]   72 	lbsr imprime
   02AB 39            [ 5]   73 	rts
                             74 
   02AC                      75 imprime_ano:
                             76 	;0x19XX/20XX -> daa -> sta ultimo XX -> 1900/2000 -> cmp 0x2000 blo 19 -> 20
   02AC FC 02 50      [ 6]   77 	ldd aNo
   02AF 81 20         [ 2]   78 	cmpa #0x20
   02B1 25 0E         [ 3]   79 	blo imprime_19
   02B3 86 20         [ 2]   80 	lda #0x20
   02B5 17 00 00      [ 9]   81 	lbsr imprime
   02B8 FC 02 50      [ 6]   82 	ldd aNo
   02BB 1E 89         [ 8]   83 	exg a,b
   02BD 17 00 00      [ 9]   84 	lbsr imprime
   02C0 39            [ 5]   85 	rts
                             86 
                             87 
   02C1                      88 imprime_19:
   02C1 86 19         [ 2]   89 	lda #0x19
   02C3 17 00 00      [ 9]   90 	lbsr imprime
   02C6 FC 02 50      [ 6]   91 	ldd aNo
   02C9 1E 89         [ 8]   92 	exg a,b
   02CB 17 00 00      [ 9]   93 	lbsr imprime
   02CE 39            [ 5]   94 	rts
                             95 	
   02CF                      96 imprime_salto:
   02CF 86 0A         [ 2]   97 	lda #'\n
   02D1 B7 FF 00      [ 5]   98 	sta 0xFF00
   02D4 39            [ 5]   99 	rts
                            100 
   02D5                     101 presentar:
   02D5 8D C1         [ 7]  102 	bsr imprime_iter
   02D7 86 3A         [ 2]  103 	lda #0x3A
   02D9 B7 FF 00      [ 5]  104 	sta 0xFF00
   02DC 86 20         [ 2]  105 	lda #0x20
   02DE B7 FF 00      [ 5]  106 	sta 0xFF00
   02E1 8D BB         [ 7]  107 	bsr imprime_dia
   02E3 86 20         [ 2]  108 	lda #0x20
   02E5 B7 FF 00      [ 5]  109 	sta 0xFF00
   02E8 8D 0F         [ 7]  110 	bsr imprime_de
ASxxxx Assembler V05.40  (Motorola 6809)                                Page 3
Hexadecimal [16-Bits]                                 Tue May 17 15:35:34 2022



   02EA 17 00 00      [ 9]  111 	lbsr mostrarMes
   02ED 8D 0A         [ 7]  112 	bsr imprime_de
   02EF 86 20         [ 2]  113 	lda #0x20
   02F1 B7 FF 00      [ 5]  114 	sta 0xFF00
   02F4 8D B6         [ 7]  115 	bsr imprime_ano
   02F6 8D D7         [ 7]  116 	bsr imprime_salto
   02F8 39            [ 5]  117 	rts
                            118 
   02F9                     119 imprime_de:
   02F9 86 64         [ 2]  120 	lda #100
   02FB C6 65         [ 2]  121 	ldb #101
   02FD B7 FF 00      [ 5]  122 	sta 0xFF00
   0300 F7 FF 00      [ 5]  123 	stb 0xFF00
   0303 39            [ 5]  124 	rts
                            125 	
                            126 
                            127 
   0304                     128 acabar: 
   0304 4F            [ 2]  129 	clra
   0305 B7 FF 01      [ 5]  130 	sta 0xFF01
                            131 
   FFFE                     132 	.org 0xFFFE
   FFFE 02 57               133 	.word programa
                            134 
ASxxxx Assembler V05.40  (Motorola 6809)                                Page 4
Hexadecimal [16-Bits]                                 Tue May 17 15:35:34 2022

Symbol Table

    .__.$$$.       =   2710 L   |     .__.ABS.       =   0000 G
    .__.CPU.       =   0000 L   |     .__.H$L.       =   0001 L
  2 Ncumples           0256 GR  |   2 aNo                0250 GR
  2 acabar             0304 GR  |   2 bucle_n_cumple     0275 R
    comprobar_bisi     **** GX  |     comprobar_dia      **** GX
    comprobar_mes      **** GX  |     daa                **** GX
  2 dia                0254 GR  |     imprime            **** GX
  2 imprime_19         02C1 R   |   2 imprime_ano        02AC R
  2 imprime_de         02F9 R   |   2 imprime_dia        029E R
  2 imprime_iter       0298 R   |   2 imprime_mes        02A5 R
  2 imprime_salto      02CF R   |   2 mes                0252 GR
    mostrarMes         **** GX  |     poner_pila         **** GX
  2 presentar          02D5 R   |   2 programa           0257 R
    sacar_pila         **** GX  |     suma_dia           **** GX
    sumar_anio         **** GX  |   2 sumar_iter         028C R
    sumar_iteracio     **** GX  |     sumar_mes          **** GX

ASxxxx Assembler V05.40  (Motorola 6809)                                Page 5
Hexadecimal [16-Bits]                                 Tue May 17 15:35:34 2022

Area Table

[_CSEG]
   0 _CODE            size    0   flags C080
   2 PROG             size    0   flags  908
[_DSEG]
   1 _DATA            size    0   flags C0C0

